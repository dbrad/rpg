<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="/js/Player/Player.js" charset="utf-8"></script>
    <script src="/js/Player/Hero.js" charset="utf-8"></script>
    <script src="/js/Player/Stats.js" charset="utf-8"></script>
    <script src="/js/Player/Item.js" charset="utf-8"></script>
    <script src="/js/Player/Equipment.js" charset="utf-8"></script>
    <script src="/js/Player/Inventory.js" charset="utf-8"></script>

    <script src="/js/State/StateMachine.js" charset="utf-8"></script>
    <script src="/js/State/InitState.js" charset="utf-8"></script>
    <script src="/js/State/MenuState.js" charset="utf-8"></script>
    <script src="/js/State/NewGameState.js" charset="utf-8"></script>
    <script src="/js/State/WorldState.js" charset="utf-8"></script>

    <script src="/js/Input.js" charset="utf-8"></script>
    <script src="/js/Animation.js" charset="utf-8"></script>
    <script src="/js/game.js" charset="utf-8"></script>

    <script src="//code.jquery.com/jquery-1.11.3.min.js" charset="utf-8"></script>
    <script src="/js/lib/pixi.js" charset="utf-8"></script>

    </script>
    <script type="text/javascript">
    PIXI.scaleModes.DEFAULT = PIXI.scaleModes.NEAREST;

    function addSprite( container, frame, x, y ) {
      container.addChild(new PIXI.Sprite.fromFrame(frame));
      var sprite = container.children[container.children.length - 1];
      sprite.anchor = new PIXI.Point(0.5, 0.5);
      sprite.position = new PIXI.Point(x, y);
    }

    function BuildMenu(sTitle, aOptions, position) {
      var paOptions = [];

      var pTitle = new PIXI.Text(sTitle, {font: "24px Tahoma", fill: 0XFFFFFF});
      pTitle.anchor.y = pTitle.anchor.x = 0.5;
      pTitle.position.x = position.x;
      pTitle.position.y = position.y;

      var offsetY = 50;
      var text = null;
      aOptions.forEach( function(option) {
        text = new PIXI.Text(option, {font: "20px Tahoma", fill: 0XFFFFFF});
        text.anchor.y = text.anchor.x = 0.5;
        text.position.x = position.x;
        text.position.y = position.y + offsetY;
        paOptions.push(text);
        offsetY += 50;
      });

      return {
        title: pTitle,
        options: paOptions
      };
    }
    function CreateCombinedSprites(g) {
      /*
      var tempCont = new PIXI.Container();
      addSprite( tempCont, "sprite_2_15", -16, -16);
      addSprite( tempCont, "sprite_3_15", 0, -16);
      addSprite( tempCont, "sprite_4_15", 16, -16);

      addSprite( tempCont, "sprite_2_16", -16, 0);
      addSprite( tempCont, "sprite_3_16", 0, 0);
      addSprite( tempCont, "sprite_4_16", 16, 0);

      addSprite( tempCont, "sprite_2_17", -16, 16);
      addSprite( tempCont, "sprite_3_17", 0, 16);
      addSprite( tempCont, "sprite_4_17", 16, 16);

      PIXI.Texture.addTextureToCache(tempCont.generateTexture(g), "castle");
      */
    }
      $(function(){
        var loader = PIXI.loader;
        loader.add("/images/roguelikeSheet.json");
        loader.once("complete", onLoaded);
        loader.load();
        function onLoaded() {
          var game = new Game();
          game.start();
        }
      });
    </script>
    <link rel="stylesheet" href="/css/normalize.css">
    <style media="screen">
      html, body {
        text-align: center;
      }
    </style>
    <title></title>
  </head>
  <body>
    <div id="what">

    </div>
    <div id="omg">

    </div>
  </body>
</html>
